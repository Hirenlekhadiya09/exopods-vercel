export default function Envs({ envs, setEnvs }: any) {
  function handleNameChange(index: number, val: string) {
    const newEnvs = [...envs];
    newEnvs[index].name = val;
    setEnvs(newEnvs);
  }

  function handleValueChange(index: number, val: string) {
    const newEnvs = [...envs];
    newEnvs[index].value = val;
    setEnvs(newEnvs);
  }

  function handleAddEnv() {
    setEnvs([...envs, { name: "", value: "" }]);
  }

  function handleDeleteEnv(index: number) {
    const newEnvs = [...envs];
    newEnvs.splice(index, 1);
    setEnvs(newEnvs);
  }

  return (
    <>
      {envs.map((env: { name: string; value: string }, index: number) => (
        <div className="flex items-center" key={index}>
          {/* <div className="grid grid-cols-2 gap-4"> */}
          <div className="flex flex-col sm:flex-row gap-4">
            <div>
              <input
                className="bg-transparent text-[#fff] border border-[#b5b5bf] px-5 py-3 rounded-lg w-[calc(100vw-150px)] fsm:w-[calc(100vw-220px)] sm:w-[202px] text-sm"
                type="text"
                value={env.name}
                onChange={(e) => handleNameChange(index, e.target.value)}
                placeholder="Name"
              />
            </div>
            <div>
              <input
                className="bg-transparent text-[#fff] border border-[#b5b5bf] px-5 py-3 rounded-lg w-[calc(100vw-150px)] fsm:w-[calc(100vw-220px)] sm:w-[202px] text-sm"
                type="text"
                value={env.value}
                onChange={(e) => handleValueChange(index, e.target.value)}
                placeholder="Value"
              />
            </div>
          </div>
          <button type="button" onClick={() => handleAddEnv()} className="ml-4">
            <svg
              width="15"
              height="15"
              viewBox="0 0 15 15"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7.5 13.625V1.375"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M1.375 7.5H13.625"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>

          {index > 0 && (
            <button
              type="button"
              onClick={() => handleDeleteEnv(index)}
              className="ml-4"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="17"
                height="17"
                viewBox="0 0 17 17"
                fill="none"
              >
                <g clip-path="url(#clip0_530_3808)">
                  <path
                    d="M15.9375 2.65623H11.1031C10.9812 2.05576 10.6554 1.51591 10.181 1.12815C9.7066 0.740391 9.11272 0.528564 8.5 0.528564C7.88728 0.528564 7.2934 0.740391 6.81899 1.12815C6.34458 1.51591 6.01881 2.05576 5.89688 2.65623H1.0625C0.921604 2.65623 0.786478 2.7122 0.68685 2.81183C0.587221 2.91146 0.53125 3.04658 0.53125 3.18748C0.53125 3.32837 0.587221 3.4635 0.68685 3.56313C0.786478 3.66276 0.921604 3.71873 1.0625 3.71873H15.9375C16.0784 3.71873 16.2135 3.66276 16.3132 3.56313C16.4128 3.4635 16.4688 3.32837 16.4688 3.18748C16.4688 3.04658 16.4128 2.91146 16.3132 2.81183C16.2135 2.7122 16.0784 2.65623 15.9375 2.65623ZM8.5 1.59373C8.82881 1.59465 9.14929 1.69726 9.4175 1.88748C9.68571 2.0777 9.88852 2.34622 9.99813 2.65623H7.00187C7.11148 2.34622 7.31429 2.0777 7.5825 1.88748C7.85071 1.69726 8.17119 1.59465 8.5 1.59373ZM14.0144 4.82373C13.9176 4.78304 13.811 4.77193 13.7079 4.79178C13.6049 4.81164 13.51 4.86157 13.4353 4.93529C13.3861 4.98493 13.3471 5.0438 13.3207 5.10853C13.2942 5.17325 13.2808 5.24256 13.2812 5.31248C13.2812 5.45337 13.3372 5.5885 13.4368 5.68813C13.5365 5.78776 13.6716 5.84373 13.8125 5.84373C13.9534 5.84373 14.0885 5.78776 14.1882 5.68813C14.2878 5.5885 14.3438 5.45337 14.3438 5.31248C14.3418 5.17182 14.2868 5.03709 14.1897 4.93529C14.1392 4.88692 14.0796 4.84901 14.0144 4.82373ZM13.8125 6.90623C13.6716 6.90623 13.5365 6.9622 13.4368 7.06183C13.3372 7.16146 13.2812 7.29658 13.2812 7.43748V9.03123C13.2812 9.17212 13.3372 9.30725 13.4368 9.40688C13.5365 9.50651 13.6716 9.56248 13.8125 9.56248C13.9534 9.56248 14.0885 9.50651 14.1882 9.40688C14.2878 9.30725 14.3438 9.17212 14.3438 9.03123V7.43748C14.3438 7.29658 14.2878 7.16146 14.1882 7.06183C14.0885 6.9622 13.9534 6.90623 13.8125 6.90623ZM13.8125 10.625C13.6716 10.625 13.5365 10.6809 13.4368 10.7806C13.3372 10.8802 13.2812 11.0153 13.2812 11.1562V14.875C13.2812 15.0159 13.2253 15.151 13.1257 15.2506C13.026 15.3503 12.8909 15.4062 12.75 15.4062H4.25C4.1091 15.4062 3.97398 15.3503 3.87435 15.2506C3.77472 15.151 3.71875 15.0159 3.71875 14.875V5.31248C3.71875 5.17158 3.66278 5.03646 3.56315 4.93683C3.46352 4.8372 3.3284 4.78123 3.1875 4.78123C3.0466 4.78123 2.91148 4.8372 2.81185 4.93683C2.71222 5.03646 2.65625 5.17158 2.65625 5.31248V14.875C2.65625 15.2977 2.82416 15.703 3.12305 16.0019C3.42193 16.3008 3.82731 16.4687 4.25 16.4687H12.75C13.1727 16.4687 13.5781 16.3008 13.877 16.0019C14.1758 15.703 14.3438 15.2977 14.3438 14.875V11.1562C14.3438 11.0153 14.2878 10.8802 14.1882 10.7806C14.0885 10.6809 13.9534 10.625 13.8125 10.625Z"
                    fill="#F02849"
                  />
                  <path
                    d="M6.375 12.75V5.84375C6.375 5.70285 6.31903 5.56773 6.2194 5.4681C6.11977 5.36847 5.98465 5.3125 5.84375 5.3125C5.70285 5.3125 5.56773 5.36847 5.4681 5.4681C5.36847 5.56773 5.3125 5.70285 5.3125 5.84375V12.75C5.3125 12.8909 5.36847 13.026 5.4681 13.1257C5.56773 13.2253 5.70285 13.2812 5.84375 13.2812C5.98465 13.2812 6.11977 13.2253 6.2194 13.1257C6.31903 13.026 6.375 12.8909 6.375 12.75ZM9.03125 12.75V5.84375C9.03125 5.70285 8.97528 5.56773 8.87565 5.4681C8.77602 5.36847 8.6409 5.3125 8.5 5.3125C8.3591 5.3125 8.22398 5.36847 8.12435 5.4681C8.02472 5.56773 7.96875 5.70285 7.96875 5.84375V12.75C7.96875 12.8909 8.02472 13.026 8.12435 13.1257C8.22398 13.2253 8.3591 13.2812 8.5 13.2812C8.6409 13.2812 8.77602 13.2253 8.87565 13.1257C8.97528 13.026 9.03125 12.8909 9.03125 12.75ZM11.6875 12.75V5.84375C11.6875 5.70285 11.6315 5.56773 11.5319 5.4681C11.4323 5.36847 11.2971 5.3125 11.1562 5.3125C11.0154 5.3125 10.8802 5.36847 10.7806 5.4681C10.681 5.56773 10.625 5.70285 10.625 5.84375V12.75C10.625 12.8909 10.681 13.026 10.7806 13.1257C10.8802 13.2253 11.0154 13.2812 11.1562 13.2812C11.2971 13.2812 11.4323 13.2253 11.5319 13.1257C11.6315 13.026 11.6875 12.8909 11.6875 12.75Z"
                    fill="#F02849"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_530_3808">
                    <rect width="17" height="17" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            </button>
          )}
        </div>
      ))}
    </>
  );
}
